@startuml IC_Platform_Activity_Simple
title UML-диаграмма активности: Обучение модели

|Пользователь|
start
|Пользователь|
:Пользователь открывает интерфейс;
:Заполняет параметры эксперимента;
:Нажимает "Запустить обучение";

|UI/API|
:Валидация параметров;

if (Ошибка?) then (да)
  :Возврат ошибки;
  stop
else (нет)
  :Постановка задачи в очередь;
endif

fork
  |Пользователь|
  repeat
    :Проверка статуса;
    :Отображение статуса;
  repeat while (Не завершено?) is (нет) not (да)
  
  :Получение ссылки на MLflow;
  
fork again
  |Воркер|
  :Забор задачи из очереди;
  
  repeat :Обучение эпохи;
    :Логирование метрик;
    |MLflow|
    :Сохранение метрик;
  repeat while (Эпохи не закончены?) is (нет) not (да)
  
  :Сохранение модели;
  :Логирование артефактов;
  :Обновление статуса;
end fork

|Пользователь|
:Анализ в MLflow UI;
stop

@enduml